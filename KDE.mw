{{InfoBox stack
|{{InfoBox wikipedia|KDE Software Compilation 4|header=true}}
}}
'''KDE''' is a powerful graphical desktop environment for Unix workstations.

== Available versions ==
KDE SC 4 is the current KDE version supported by upstream. In Portage there is a stable version, and there might be one (or more) non-stable versions. Under normal conditions new versions get in stabilized after a month. In addition, KDE upstream provides [http://quickgit.kde.org/ live git source repositories]. The Gentoo KDE team provides git master and latest branch live ebuilds through the [http://git.overlays.gentoo.org/gitweb/?p=proj/kde.git;a=summary kde overlay]. 

Choose what KDE SC version is most appropriate for you: 

{| {{{!}} class{{=}}"wikitable"
! style{{=}}"background: #31206C; color: white; white-space: nowrap;" | KDE SC version
! style{{=}}"background: #31206C; color: white; white-space: nowrap;" | Gentoo version
! style{{=}}"background: #31206C; color: white; white-space: nowrap;" | Repository
! style{{=}}"background: #31206C; color: white; white-space: nowrap;" | Status
|-
| KDE SC 4.10.5
| 4.10.5
| Portage
| Stable for amd64, ppc, ppc64 and x86; testing for arm
|-
| KDE SC 4.11.2
| 4.11.2
| Portage
| Testing for amd64, arm, ppc, ppc64 and x86
|-
| KDE SC 4.11 stable branch
| 4.11.49.9999
| [[KDE/Overlay|kde overlay]]
| Live version
|-
| KDE SC 4.x master
| 9999
| [[KDE/Overlay|kde overlay]]
| Live version
|}

{{Note|Users with stable systems need to put [http://git.overlays.gentoo.org/gitweb/?p{{=}}proj/kde.git;a{{=}}blob_plain;f{{=}}Documentation/package.accept_keywords/kde-4.11.keywords this keywords file] in {{Path|/etc/portage/package.keywords}} to install testing versions.}}

{{Note|If you are running KDE PIM and upgrade from 4.4 to 4.10, please have a look at the [[KDE/KDEPIM-4.7 upgrade|KDE PIM 4.7 Upgrade Guide]] first (it still applies)! If you want to stick with KDE PIM 4.4 you can [http://www.gentoo.org/proj/en/desktop/kde/kdepim-4.7-mask.txt mask KDE PIM 4.10].}}

== Prerequisites ==

=== Profile ===
The Desktop [[profile]] has been split to KDE and [[GNOME]] subprofiles. This means that KDE and GNOME specific USE flags have been stripped from the basic desktop profile and have been migrated to the subprofiles. Choosing a subprofile does not restrict you to use only the equivalent desktop environment. In order to choose the profile that suits you, run 
{{RootCmd|eselect profile list}}
to get the profile list, and 
{{RootCmd|eselect profile set X}}
where X is the appropriate number of the profile you want to select. See the page on [[profile]]s for more details.
For a full KDE desktop environment we recommend to use the ''desktop/kde'' [[profile]], which is specially tailored for KDE with OpenRC. If you want to use KDE with systemd we recommend to use the ''desktop/kde/systemd'' [[profile]], which is specially tailored for KDE with systemd.

{{Important|Propper systemd (logind) support with KDE 4.11}}

=== Services ===
Before you install KDE SC it is recommended that you set up several services. Part of that is done automatically if you use a ''desktop/kde'' or ''desktop'' [[profile]]. In detail you should use: 
* [[D-Bus]]: Enables use of the D-Bus message bus system.
* [[polkit]]: Enables the polkit framework for controlling privileges for system-wide services.
* [[udev]]: Enables support for udev Linux dynamic and persistent device naming.
* [[udisks]]: Enables support for some storage related services.

Follow the links for information how to set up these services. Note that other USE flag combinations than set in this profile may technically be possible (especially if you do not run a full KDE desktop environment but only selected applications), but may be unsupported, untested, or lead to unexpected loss of functionality.

=== X server ===
Read and follow the instructions in the [[X server]] article to setup your X environment.

== Installation ==
{{Note|If you're updating, check the [[/upgrade|upgrade subpage]].}}
{{Note|For live versions see the [[KDE/Overlay|kde overlay]] article.}}

=== Packages ===
In Gentoo there are various packages that will install a KDE environment:
* {{Package|kde-base/kde-meta}}, the full KDE suite
* {{Package|kde-base/kdebase-meta}}, a basic KDE environment
* {{Package|kde-base/kdebase-startkde}}, a very minimal, effectively unsupported KDE environment (no KDE applications or artwork)
It's usually a good idea to start with kdebase-meta and install whatever else you need as you go:
{{Emerge|kdebase-meta}}

There are other meta packages that can be installed to pull in parts of the KDE suite:
* {{Package|kde-base/kdeaccessibility-meta}}: Accessibility applications and utilities.
* {{Package|kde-base/kdeadmin-meta}}: Administrative utilities, which helps you manage your system.
* {{Package|kde-base/kdeartwork-meta}}: Extra themes, screensavers, etc.
* {{Package|kde-base/kdebindings-meta}}: Bindings for various languages.
* {{Package|kde-base/kdeedu-meta}}: Educational applications and games.
* {{Package|kde-base/kdegames-meta}}: Standard desktop games.
* {{Package|kde-base/kdegraphics-meta}}: Graphics applications such as image viewers, color pickers, etc.
* {{Package|kde-base/kdemultimedia-meta}}: Audio and video playback applications and services.
* {{Package|kde-base/kdenetwork-meta}}: Network applications and VNC services.
* {{Package|kde-base/kdepim-meta}}: PIM applications such as emailer, addressbook, organizer, etc.
* {{Package|kde-base/kdesdk-meta}}: Various development tools.
* {{Package|kde-base/kdetoys-meta}}: Toy like applications.
* {{Package|kde-base/kdeutils-meta}}: Standard desktop utilities such as a archiver, a calculator, etc.
* {{Package|kde-base/kdewebdev-meta}}: Web development tools.

=== Localization ===
For [[localization]] of KDE install {{Package|kde-base/kde-l10n}}. If you want only selected languages, define beforehand the ''LINGUAS'' USE flag, e.g. for German:
{{File|/etc/portage/make.conf||<pre>
LINGUAS="de"
</pre>}}
{{Emerge|kde-l10n}}

For localization of packages included in {{Package|kde-base/kdepim-meta}} you need to install {{Package|kde-base/kdepim-l10n}}.

{{Package|app-office/calligra}} has its own localization package too, {{package|app-office/calligra-l10n}}.

== Configuration ==

=== Boot service ===
KDM (KDE Display Manager) is recommended login manager for KDE. Now we need to set it as default and start it.
==== OpenRC ====
Set KDM as your default [[display manager]]:
{{File|/etc/conf.d/xdm||<pre>
DISPLAYMANAGER="kdm"
</pre>}}

To start KDM on boot, add xdm to your default runlevel:
{{RootCmd|rc-update add xdm default}}

To start KDM now:
{{RootCmd|/etc/init.d/xdm start}}
==== Systemd ====
Enable KDM at boot time

{{RootCmd|systemctl enable kdm}}

and run

{{RootCmd|systemctl start kdm}}

{{Important|Propper systemd (logind) support with KDE 4.11}}

== Add-on Software ==

=== Widgets ===
Many useful widget are in the {{Package|kde-base/kdeplasma-addons}} package:
{{Emerge|kdeplasma-addons}}

=== More KDE software ===
The most important KDE applications are in the portage tree and many are located in the [http://packages.gentoo.org/category/kde-base kde-base] and [http://packages.gentoo.org/category/kde-misc kde-misc] categories.

== See also ==

* [[/Hints|KDE Hints]]
* [[/Troubleshooting|KDE Troubleshooting]]
* [[/KDEPIM-4.7 upgrade/]]
* [[/Overlay|KDE Overlay]]
* [[/Removal|KDE Removal and Clean up]]

== External resources ==
* [http://userbase.kde.org/ Official KDE user wiki]
* [http://forum.kde.org/ Official KDE forum]
* [http://www.kde-apps.org/ KDE-Apps.org]
* [http://www.kde-look.org/ KDE-Look.org]
* [http://www.kde-files.org/ KDE-Files.org]

[[Category:KDE]]
