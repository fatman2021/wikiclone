{{InfoBox stack
|{{InfoBox wikipedia|NetworkManager|header=true}}
}}
''NetworkManager'' is a network management software for Ethernet, Wifi, DSL, dialup, VPN and mobile broadband network connections.

{{Note|NetworkManager doesn't work together with other network management software. So disable all other managers.}}

== Installation ==

=== Kernel ===
You need to activate the following kernel options:
{{Kernel||<pre>
General setup  --->
    [ ] Enable deprecated sysfs features to support old userspace tools
</pre>}}

For Wifi devices enable also the following options:
{{Kernel||<pre>
[*] Networking support  --->
        Networking options  --->
        <*> Packet socket
    [*] Wireless  --->
        <*>   cfg80211 - wireless configuration API
        [*]     cfg80211 wireless extensions compatibility
</pre>}}

=== Software ===
Portage knows the global USE flag ''networkmanager'' for enabling support for NetworkManager in other packages. Enabling this USE flag will pull in {{Package|net-misc/networkmanager}} automatically:
{{File|/etc/portage/make.conf||
USE{{=}}"... networkmanager ..."
}}
The USE flags of networkmanager are:
{{USEflag|package=net-misc/networkmanager
|avahi
|bluetooth+yes
|connection-sharing
|dhclient
|dhcpcd
|doc
|gnutls
|nss
|ppp+yes
|resolvconf
}}

After setting this you want to update your system so the changes take effect:
{{RootCmd|emerge --ask --changed-use --deep world}}

Also install a frontend:
* {{Package|gnome-extra/nm-applet}} for [[GNOME]]
* {{Package|kde-misc/networkmanagement}} for [[KDE]]
* {{Package|net-misc/cnetworkmanager}} for the command line

There are also some extensions:
* {{Package|net-misc/networkmanager-openvpn}} - VPN connection to a OpenVPN server
* {{Package|net-misc/networkmanager-pptp}} - VPN connection to a PPTP server
* {{Package|net-misc/networkmanager-vpnc}} - VPN connection to a Cisco VPN concentrator

== Configuration ==
You can now start NetworkManager:
{{RootCmd|/etc/init.d/NetworkManager start}}
To start NetworkManager at boot time, add it your default runlevel:
{{RootCmd|rc-update add NetworkManager}}

Reload [[D-Bus]] so that the NetworkManager changes take effect:
{{RootCmd|/etc/init.d/dbus reload}}

== Usage ==
To be able to get nm-applet started when starting your light X session or light Desktop Environment, just put the following line in your `~/.xinitrc' file.

{{File|~/.xinitrc||dbus-launch nm-applet --sm-disable &}}

For {{Package|gnome-base/gnome-keyring}} support, add the following lines before the previous line. This will ease passwods management for GnuPG, ssh and Wifi.

{{File|~/.xinitrc||<pre>
eval $(gnome-keyring-daemon --components=pkcs11,secrets,ssh,gpg)
export GNOME_KEYRING_PID
export GNOME_KEYRING_SOCKET
export SSH_AUTH_SOCK
export GPG_AGENT_INFO</pre>}}

{{Note|Note that you will need a valid polkit session to be able to get NetworkManager to work (there is a thread in the forums).}}

Additionaly, you will need the following file.

{{File|/etc/polkit-1/localauthority/50-local.d/org.freedesktop.NetworkManager.pkla||<pre>
[nm-applet]
Identity=unix-group:plugdev
Action=org.freedesktop.NetworkManager.settings.modify.system ResultAny=yes
ResultAny=no
ResultInactive=no
ResultActive=yes</pre>}}

[[Category:Core system]]
