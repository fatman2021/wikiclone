<languages />

Ce guide vous explique comment naviguer dans les pages de manuel en utilisant ''man''.

== Introduction ==

=== Le programme man ===

Chacun, à un certain stade de sa vie avec Linux l'a utilisé. Il s'agit de la commande <code>man</code>. Néanmoins, bien que le programme ''man'' lui-même soit assez simple dans sa structure, il dispose de quelques fonctionnalités  autres que celle de simplement faire défiler une page. Ce document espère apporter un peu de lumière sur ces fonctionnalités. 

=== Arrangement de Man ===

Les pages de manuel sont stockées principalement dans le répertoire {{Path|/usr/share/man}}. Cependant, tant que lemplacement d'une page de manuel est listé dans la variable d'environnement <code>MANPATH</code>, ''man'' est capable de la retrouver. Gentoo stocke généralement les variables <code>MANPATH</code> dans {{Path|/etc/env.d}}. Dans ces répertoires, il existe quelques dossiers intitulés ''manX'', ou X est le numéro de section. Par exemple, un arrangement standard de man ressemble à ceci : 

{{Cmd|ls /usr/share/man {{!}} grep man|output=<pre>
man0p
man1
man1p
man2
man3
man3p
man4
man5
man6
man7
man8
man9
mann
</pre>
}}

La numérotation réelle des sections semble être tout à fait standard. Néanmoins, notez qu'il y a un dossier {{Path|mann}}  et quelques  dossiers {{Path|man#p}}. La table suivante présente les répertoires de pages de manuel ci-dessus et ce qu'ils contiennent : 

{| class="wikitable" style="text-align: left;" 
|- 
! Répertoire Man 
! Description
|- 
| man0p
| Le  <code>p</code> ici signifie POSIX, tout comme pour les répertoires qui contiennent ''p'' dans leur nom. Les pages de manuel dans ce répertoire décrivent la fonction de différents fichiers d'entête POSIX.
|- 
| man1
| Cette section est réservée aux commandes standards. La plupart des programmes placent leurs pages de manuel ici ; c'est pourquoi cette section a tendance à être la plus volumineuse. 
|- 
| man1p
| Cette section décrit la version  POSIX de la commande décrite en 1p. Comme elle se contente de décrire les commandes de base, elle est beaucoup plus petite que man1.
|- 
| man2
| Cette section décrit les appels système au noyau Linux. 
|- 
| man3
| Cette section décrit les fonctions de la bibliothèque c standard.
|- 
| man4
| Cette section décrit les périphériques spéciaux. Ces périphériques son généralement orientés noyau, mais <code>Xorg-X11</code> y a aussi des entrées.
|- 
| man5
| Cette section décrit, à la fois, la constitution de certains fichiers et quels fichiers un programme utilise. Il se peut que ceux d'entre-vous qui lisent ce document  soient familiers avec les références  à <code>man 5 portage</code> pour une  description de la structure du fichier  <code>portage</code> , et à <code>man 5 make.conf</code> pour la constitution de  {{Path|make.conf}}.
|- 
| man6
| Cette section introduit les jeux et autres amusements. 
|- 
| man7
| Cette sections décrit des items standards et d'autres très variés. Ces items standards comprennent les jeux de caractères, les instructions SQL, les normes ISO et les expressions régulières.  
|- 
| man8
| Cette section décrit les commandes administratives (celles que l'administrateur utilise couramment).
|- 
| man9
|  Cette section est assez peu fournie, mais elle est prévue pour accueillir la documentation sur les différents parties du noyau.
|- 
| mann
| Cette  section est principalement utilisée par <code>Tcl/Tk</code> . Le <code>n</code> signifie  ''nouveau''.
|-
|}

Bien que cela ne soit pas une liste détaillée et exhaustive, elle couvre les pages de manuel qui intéressent la plupart des gens. Cependant, dans certains cas, vous pouvez savoir ce qu'une section présente aussi aisément que de consulter cette table. Le prochain chapitre vous montrera comment parcourir cet arrangement. 

== Travailler avec l'arrangement des pages de manuel ==

=== Feuilleter les pages de manuel ===

Maintenant que vous avez une idée claire de l'arrangement des pages de manuel, vous pouvez commencer à rechercher des commandes. Parfois, il nous faut affiner progressivement notre recherche. Le premier pas consiste à s'intéresser aux sections. Pour trouver la description d'une section, on peut utiliser <code>man section intro</code>, comme ceci : 

{{Cmd|man 3 intro|sortie=<pre>
## (Sortie légèrement modifiée pour s'adapter à ce document)
INTRO(3)               Linux Programmer's Manual                INTRO(3)
 
 
 
NAME
       intro - Introduction aux fonctions de bibliothèque
 
DESCRIPTION
       Cette section décrit toutes les fonctions de bibliothèques à l'exclusion des fonctions incluses dans la section 2, implémentant des appels système.
       Il y a différents groupes de fonctions  qui sont identifiés par une lettre ajoutée au numéro de section :
....
</pre>
}}

Malheureusement, cela ne marche pas toujours ! Cependant, heureusement pour nous, il y a une autre façon de rechercher des commandes qui peut retourner des résultats multiples (comme un appel à une bibliothèque et une commande système qui ont le même nom). Pour ce faire, nous utilisons le paramètre <code>-K</code>  de man de cette manière : 

{{Cmd|man -K sleep|sortie=<pre>
/usr/share/man/man0p/time.h.0p.gz? [ynq] n
/usr/share/man/man0p/unistd.h.0p.gz? [ynq] n
/usr/share/man/man2/alarm.2.gz? [ynq] n
/usr/share/man/man2/pause.2.gz? [ynq] n
/usr/share/man/man2/futex.2.gz? [ynq] n
/usr/share/man/man2/nanosleep.2.gz? [ynq] y
/usr/share/man/man2/semop.2.gz? [ynq] q
</pre>
}}

Parfois la sortie peut prendre pas mal de place. Dans ce cas, il peut être préférable de spécifier plus de mots clé. Maintenant que nous savons où trouver la page de manuel, la section suivante va vous montrer comment la visualiser. 

=== Visualiser les pages de manuel ===

Viewing man pages can be done in 2 ways, first is with <code>man [man page name]</code> . The second way is <code>man [section] [man page name]</code> . Let's take <code>bc</code> for example. I can view either the first man page that comes up on <code>bc</code> (which would be section 1, because it is the lowest section containing a man page on <code>bc</code> ): 

{{Cmd|man bc|output=<pre>
bc(1)                                            bc(1)
 
 
NAME
       bc - An arbitrary precision calculator language
...
</pre>
}}

However, what if I want the POSIX version? Then I can use the second form: 

{{Cmd|man 1p bc|output=<pre>
BC(P)        POSIX Programmer's Manual           BC(P)
 
 
NAME
       bc - arbitrary-precision arithmetic language
...
</pre>
}}

And the man page is displayed. Now that we have the man page up, it's time to work with it. The next section will look at navigation and searching. 

=== Navigating and searching man pages ===

Navigating a man page is fairly simple. To move up and down line by line, use the up and down arrow keys. To move up page by page, you can use the page up and page down keys. Do however note that these navigation instructions assume the environmental <code>PAGER</code> variable is set to use the default pager, <code>less</code> . Less also has a few other commands for navigation, but the arrow keys usually suffice: 

{{Code|Additional less navigation keys|<pre>
  e  ^E  j  ^N  CR  *  Forward  one line   (or N lines).
  y  ^Y  k  ^K  ^P  *  Backward one line   (or N lines).
  f  ^F  ^V  SPACE  *  Forward  one window (or N lines).
  b  ^B  ESC-v      *  Backward one window (or N lines).
  z                 *  Forward  one window (and set window to N).
  w                 *  Backward one window (and set window to N).
  ESC-SPACE         *  Forward  one window, but don't stop at end-of-file.
  d  ^D             *  Forward  one half-window (and set half-window to N).
  u  ^U             *  Backward one half-window (and set half-window to N).
  ESC-)  RightArrow *  Left  one half screen width (or N positions).
  ESC-(  LeftArrow  *  Right one half screen width (or N positions).
  F                    Forward forever; like "tail -f".
</pre>
}}

Searching, however, is more interesting. The two most basic searches are <code>/pattern</code> and <code>?pattern</code> . The first version searches forwards, and the second searches backwards. <code>pattern</code> is a regular expression pattern that is described in <code>man 7 regex</code> . Let's take for example searching for the <code>-D</code> option to <code>emerge</code> . First, bring up the emerge man page: 

{{Cmd|man emerge}}

Then, at the screen, press the <code>/</code> key to bring up the entry prompt to search forwards and enter in our search pattern: 

{{Code|Bringing up the forward search prompt|<pre>
     gracefully handles updating installed packages to newer releases as well.
     It handles both source and binary packages, and it can be used to create
     binary packages for distribution.
 
EBUILDS, TBZ2S, CLASSES AND DEPENDENCIES
/\-D
</pre>
}}

{{Note|The <code>\</code> is done to escape the <code>-</code> sign, which would normally be used as part of a regular expression.}}

This will search the man page, and bring the searched item into focus: 

{{Code|Forward search results|<pre>
  --deep (-D)
        When used in conjunction with --update, this flag forces emerge to consider the entire
        dependency tree of packages, instead of checking only the immediate dependencies of
        the packages.  As an example, this catches updates in libraries that are not directly
        listed in the  dependencies of a package.
</pre>
}}

If you hit a search result by accident and want to continue searching for the same results, simply press the <code>/</code> key again, and press enter (i.e. don't put a pattern it). This will cause the search to default to the last pattern used. Now with some man pages, options are listed, then explained later on. Take the <code>man 5 portage</code> man page. It lists the files used, then explains their usage. Searching forward a few times would return the results, but there's an easier way to handle this, with the second search form, backwards searching. Let's use this to find the description on {{Path|package.unmask}} . First, bring up <code>man 5 portage</code> : 

{{Cmd|man 5 portage}}

Now press <code>SHIFT+g</code> . This will bring you to the end of the page: 

{{Code|End of the man page after SHIFT+g|<pre>
SEE ALSO
       emerge(1), ebuild(1), ebuild(5), make.conf(5)
 
Portage 2.0.51        Jan 2004            PORTAGE(5)
lines 418-442/442 (END)
</pre>
}}

Now we'll go ahead and enter the pattern to search for with the <code>?pattern</code> backwards search option. First press the <code>?</code> key to bring up the prompt, and then enter in <code>package.unmask</code> , our query: 

{{Code|Specifying our search|<pre>
SEE ALSO
       emerge(1), ebuild(1), ebuild(5), make.conf(5)
 
Portage 2.0.51        Jan 2004           PORTAGE(5)
?package.unmask
</pre>
}}

Then hit enter to bring up the result: 

{{Code|Our search result|<pre>
  package.unmask
       Just like package.mask above, except here you list packages you want to unmask.
       Useful for overriding the global  package.mask  file (see below).  Note that
       this does not override packages that are masked via KEYWORDS.
...
</pre>
}}

And the search is complete! Note that just as with <code>/</code> , using <code>?</code> search with no pattern will use the last pattern to search. 

=== Conclusion ===

This concludes the man guide. This will hopefully shed some light on navigating man pages, and maybe even give a few new tips to the more experienced users. For those who prefer alternate means of navigating man pages, the following are also available: 

* app-text/man2html - a program for converting man pages to html
* app-text/tkman - a tk based man page browser

Also the <code>KDE</code> web browser <code>Konqueror</code> can browse man pages using the <code>man:</code> syntax in the address bar. 

== Acknowledgements ==

We would like to thank the following authors and editors for their contributions to this guide:

* Chris White
