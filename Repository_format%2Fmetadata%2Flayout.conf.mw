The '''metadata/layout.conf''' file is a file describing global properties of a repository.

== File format ==

The file consists of a number of key-value pairs, one pair per line, with the two separated by =. Comment lines start with #.

{{File|metadata/layout.conf|An example showing the format of the file|<pre>
key1 = value1
# comment
key2 = value2
</pre>}}

== Possible keys ==

=== repo-name === 
This setting specifices the name of the repository. It takes precedence over an existing value in profiles/repo_name.
{{File|metadata/layout.conf|Specifies repository name <pre>
repo-name = foo-overlay
</pre>}}

=== masters ===

The ''masters'' key specifies a list of master repositories for this particular repository. Whenever installing an ebuild from the particular repository, package manager can use eclasses from the master repositories.

The most common example is a repository (overlay) which provides additional packages for Gentoo. Such a package uses eclasses from the ''gentoo'' repository.

{{File|metadata/layout.conf|An example for repository relying on ''gentoo'' eclasses|<pre>
masters = gentoo
</pre>}}

A particular repository may have more than a single ''masters'' entry. These are not inherited over repositories. In the following example eclasses from gentoo take precedence over eclasses in python, that share the same name.

{{File|metadata/layout.conf|An example for repository relying on two other repositories|<pre>
masters = python gentoo
</pre>}}

Finally, a stand-alone repository like ''gentoo'' should provide an empty masters list. This means that all eclasses used by packages in that repository must be found in that repository.

{{File|metadata/layout.conf|An example for a stand-alone repository|<pre>
masters =
</pre>}}

=== eapis-banned ===

This setting bans EAPIs (repoman will fail).

{{File|metadata/layout.conf| Bans EAPI 0 and EAPI 1|<pre>
eapis-banned = 0 1
</pre>}}

=== eapis-deprecated ===

This setting marks EAPIs as deprecated (repoman will prompt a warning)

{{File|metadata/layout.conf|Marks EAPI 2 and EAPI 3 as deprecated|<pre>
eapis-deprecated = 2 3 
</pre>}}

=== sign-commits ===

If enabled, the commits made in this repository will be signed.

{{File|metadata/layout.conf|Enabling commit signing|<pre>
sign-commits = true
</pre>}}

This applies only to git repositories. It requires git 1.7.9 or newer.

The key used to sign commits can be set through:

{{Cmd|git config user.signingkey ''<keyid>''}}

=== sign-manifests ===

''Enabled by default.'' If enabled, the Manifest files will be [[../../package/Manifest#Manifest_signing|signed]] whenever committing to this repository from a GPG-enabled client.

{{File|metadata/layout.conf|Disabling Manifest signing|<pre>
sign-manifests = false
</pre>}}

In portage, the Manifest signing is enabled through ''[[FEATURES]]=sign''.

=== thin-manifests ===

''Disabled by default''. If enabled, [[../../package/Manifest#Thin_Manifest|thin Manifests]] will be used inside the repository instead of the regular ones.

{{File|metadata/layout.conf|Enabling thin Manifests|<pre>
thin-manifests = true
</pre>}}

=== use-manifests ===
Enforces a correct manifest for each package.

{{File|metadata/layout.conf|Enforce correct manifests|<pre>
use-manifests = strict
</pre>}}

[[Category:Portage]]
