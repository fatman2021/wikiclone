{{Lowercase title}}
{{InfoBox stack
|{{InfoBox homepage|http://www.freedesktop.org/wiki/Software/udisks|header=true}}
}}
'''udisks''' is a [[D-Bus]] daemon offering some storage related services:
* enumeration of storage devices, much like [[udev]] but with more details.
* [[mount]]ing of filesystems.
* [[partition]] of storage devices.
* [[smartmontools|monitor]] of storage devices.
* [[hdparm|configuration]] of storage devices.

== Installation ==

=== Prerequisites ===
Udisks uses [[D-Bus]] and [[polkit]], so set them up first.

=== Kernel ===
You need to activate the following kernel options:
{{Kernel|udisks1|<pre>
Device Drivers  --->
    < > ATA/ATAPI/MFM/RLL support (DEPRECATED)  --->
    [*] USB support  --->
        <*>   Support for Host-side USB
        [*]     USB runtime power management (autosuspend) and wakeup
File Systems -->
    Native Language Support -->
        <*> NLS UTF8
</pre>}}

{{Kernel|udisks2|<pre>
General setup  --->
    [*] Support for paging of anonymous memory (swap)
Device Drivers  --->
    < > ATA/ATAPI/MFM/RLL support (DEPRECATED)  --->
File Systems -->
    Native Language Support -->
        <*> NLS UTF8
    Pseudo filesystems  --->
        -*- Tmpfs virtual memory file system support (former shm fs)
        [*]   Tmpfs POSIX Access Control Lists
</pre>}}

=== Software ===
Portage knows the global USE flag ''udisks'' for enabling support for udisks in other packages. Enabling this USE flag will pull in {{Package|sys-fs/udisks}} automatically (default for ''desktop'' [[profile]]s):
{{File|/etc/portage/make.conf||<pre>
USE="... udisks ..."
</pre>}}
{{USEflag|package=sys-fs/udisks|desc=udisks1
|debug
|nls+yes
|remote-access
}}

{{USEflag|package=sys-fs/udisks|desc=udisks2
|cryptsetup
|debug
|gptfdisk+yes
|introspection+yes
|selinux
|systemd
}}

After setting this you want to update your system so the changes take effect:
{{Emerge|params+=--changed-use --deep|@world}}

== Addon software ==
* {{Package|sys-apps/gnome-disk-utility}} - [[GNOME]] program to partition, configure and monitor storage devices.
* {{Package|sys-fs/udiskie}} - Automatic mount of drives.
* {{Package|sys-fs/udisks-glue}} - Run actions on udisks events.

== Configuration ==
Udisks uses [[polkit]] to handle permissions.

== Usage ==
Some useful commands are:
* '''udisks --enumerate''' - Lists all storage devices.
* '''udisks --monitor''' - Monitor udisks.
* '''udisks --monitor-details''' - Monitor udisks with more details.
* '''udisks --inhibit-polling /dev/DEVICEFILE''' - Disable polling on the given device.

== Troubleshooting ==
* {{Bug|udisks|search=package}}
* {{Bug|udisks|site=fdo|search=product}}
* udisks communicates over D-Bus, so also see the [[D-Bus#Troubleshooting|D-Bus "Troubleshooting" section]].

[[Category:Core system]]
